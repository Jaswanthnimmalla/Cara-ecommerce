!function(E,S){"use strict";var A=E.YAHOO=E.YAHOO||{},q=A.NB||{},x=A.SP=A.SP||{},O="duration",I="expand",w="hidden",D="host",g="selected",N="shownItems",H="target",R="trigger",m="footerBufferId",t="timer",B="beaconUrl",_="beaconDataName",k="beaconDataNameCollapse",M=function(e,t,a,l){return-a*(e/=l)*(e-2)+t},L=function(a,l){var e,t,r,s,o,n,g=a.get("offset"),i=a.get("enableFooterBuffer"),c=a.get("addTargetClass");a.set(I,!1),a.get(O)?(e=l,t=a.get(O),r=g,s=a,n=e.item(r),t={duration:t,easing:M,after:function(){r?e.forEach(function(e,t){r<=t&&q.addClass(e,w)}):q.addClass(e,w),o.style.height="",o.style.overflow=""}},n&&(o=n.parentNode,n=A.DOM.getY(n)-A.DOM.getY(o),s.get("collapseToStart")?(t.attribute="scrollTop",t.target=s.get("host").offsetTop,t.node=q.UA.ie?S.documentElement:q.UA.gecko?S.querySelector("html"):S.querySelector("body")):(t.attribute="height",t.target=n,t.node=o),o.style.overflow=w,new A.Anim(t).start())):0<g?l.forEach(function(e,t){g<=t&&(i?d(a,l):q.addClass(e,w))}):i?d(a,l):c?q.removeClass(l,c):(a.get("enableHeightBasedTriggerDisplay")&&(t=a.get("triggerDisplayHeightThreshold"),c=a.get(D).querySelector("ul"),(c=t-parseInt(A.DOM.getComputed(c,"height")))<0&&window.scrollBy(0,c)),q.addClass(l,w)),a.get("disableBodyScroll")&&(S.body.style.overflow="auto")},d=function(t,e){var a=document.body,l=t.get(D),r=l.getBoundingClientRect().height,a=a.getBoundingClientRect().bottom-(window.innerHeight||document.documentElement.clientHeight);q.addClass(e,w),a<(l=r-l.getBoundingClientRect().height)&&(document.getElementById(t.get(m)).style.height=(a=l-a)+"px",window.scrollBy(0,a),t._bufferHeightE.push(A.Event.on("scroll",function(e){s(t,e)},window)),t._bufferHeightE.push(A.Event.on("resize",function(e){s(t,e)},window)))},p=function(e){document.querySelector(e.get(H)).style.height="auto";var t=document.querySelector(e.get(H)).clientHeight;document.querySelector(e.get(H)).style.height="",e.get("targetHeight")&&t<=e.get("targetHeight")?document.querySelector(e.get(R)).parentNode.classList.add("hidden"):document.querySelector(e.get(R)).parentNode.classList.remove("hidden")},F=function(e,t,a){var l,r,s,o,n,g,i;t&&1==t.length&&(l=e.has("enableRepositionX")?parseInt(e.get("enableRepositionX")):0,r=e.has("enableRepositionY")?parseInt(e.get("enableRepositionY")):0,s=e.get("repositionType"),i=!1,a.forEach(function(e){i||q.hasClass(e,w)||((o=t.item(0)).style.position=s,n=A.DOM.getX(e),g=A.DOM.getY(e),"absolute"==s&&A.DOM.getComputed(e,"position")!=s&&(n-=A.DOM.getDocScrollX(S),g-=A.DOM.getDocScrollY(S)),A.DOM.setX(o,n+l),A.DOM.setY(o,g+r),i=!0)}))},Y=function(e,t,a){q.removeClass(e,a),q.addClass(e,t)},s=function(r,e){clearTimeout(r.get(t)),r.set(t,setTimeout(function(){var e,t,a,l;e=r,t=document.getElementById(e.get(m)),a=t.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight,a.top>=l?(t.style.height="0px",A.Event.remove(e._bufferHeightE)):a.bottom>=l&&(t.style.height=t.clientHeight-(a.bottom-l)+"px")},100))},y=function(e){var t=e.get(D),a=t.querySelector("ul"),l=parseInt(A.DOM.getComputed(a,"height")),r=t.querySelectorAll(e.get(R)),t=r[0],r=r[1];t&&r&&(l>e.get("triggerDisplayHeightThreshold")?q.hasClass(a,w)?(q.hasClass(t,w)&&q.removeClass(t,w),q.hasClass(r,w)||q.addClass(r,w)):(q.hasClass(r,w)&&q.removeClass(r,w),q.hasClass(t,w)||q.addClass(t,w)):(q.hasClass(t,w)||q.addClass(t,w),q.hasClass(r,w)||q.addClass(r,w)))};function e(){}e.ATTRS={it:{value:""},trigger:{value:""},target:{value:""},expand:{value:!1},expandNItems:{value:0},action:{value:"click"},offset:{getter:function(e){return e?+e:0}},duration:{getter:function(e){return e?+e:0}},shownItems:{value:0},toggleType:{value:"toggle"},toggleHidden:{value:""},targetImgLazy:{value:!1},targetImgNode:{value:""},targetToCollapse:{value:""},targetToExpandNodes:{value:""},similarTrigger:{value:""},collapseOnOutsideClick:{value:!1},collapseOnMouseLeave:{value:!1},collapseSimilarTargets:{value:!1},enableReposition:{value:!1},enableRepositionX:{value:""},enableRepositionY:{value:""},enableRepositionOnPosChange:{value:!1},posChangeEventType:{value:"StickyEast:posChange"},repositionType:{value:"absolute"},collapseToStart:{value:""},cssClassforTriggered:{value:""},cssClassForParentOfTriggered:{value:""},triggerIconSelector:{value:""},closeNode:{value:""},triggerIconAddCssClass:{value:""},triggerIconRemoveCssClass:{value:""},enableTriggerIconHover:{value:""},enableExpandEventFire:{value:""},hideTriggerNodes:{value:!0},hideCurrentTriggerNodeOnly:{value:!0},addClassForTarget:{value:!1},targetAddCssClass:{value:""},targetRemoveCssClass:{value:""},submitTextNodeDataBeacon:{value:!1},enableSelectTriggerNodeText:{value:!1},enableHeightBasedTriggerDisplay:{value:!1},triggerDisplayHeightThreshold:{value:664},triggerEnableAriaSelected:{value:!1},hostWidth:{value:null},beaconUrl:{value:!1},enableAutoToggleByExpandedElements:{value:!1},expandedElements:{value:""},beaconDataName:{value:""},beaconDataNameCollapse:{value:""},enableGpos:{value:!1},expandOnMouseenterTimer:{value:500},progressiveExpand:{value:!1}},e.prototype={initializer:function(){var t,a,e,l,r,s,o,n=this,g=n.get("configHost"),i=g&&null!==S.querySelector(g)?S.querySelector(g):n.get(D),c=n.get(R),d=n.get(H),u=n.get("action"),v=n.get("closeNode"),h=n.get("toggleType"),C=i.querySelectorAll(c),f=i.querySelectorAll(d);n._bufferHeightE=[],0<C.length&&0<f.length&&(n.get("expand1stModOnly")&&(s=(r=n).get(D),g=s.parentNode,d=g.parentNode,o=s.querySelectorAll(r.get("targetToCollapse")),s=s.querySelectorAll(r.get("targetToExpandNodes")),d.firstChild.isEqualNode(g)||(r.set(I,!1),s.forEach(function(e){q.hasClass(e,w)||q.addClass(e,w)}),o.forEach(function(e){q.hasClass(e,w)&&q.removeClass(e,w)}))),n.get("enableFooterBuffer")&&(l=n,r=document.getElementById("ft_wrapper"),s=document.createElement("div"),o=l.get(m),r?(s.setAttribute("id",o),s.style.height="0",r.appendChild(s)):l.set("enableFooterBuffer",!1)),n.get("showTrigger")&&q.removeClass(C.item(0).parentNode,w),"true"===n.get("enableTriggerIconHover")&&(a=(t=n).get(D),(e=a.querySelectorAll(t.get(R)))&&(A.Event.on("mouseenter",function(){Y(a.querySelectorAll(t.get("triggerIconSelector")),t.get("triggerIconAddCssClass"),t.get("triggerIconRemoveCssClass"))},e),A.Event.on("mouseleave",function(){e.forEach(function(e){q.hasClass(e,t.get("cssClassforTriggered"))||Y(a.querySelectorAll(t.get("triggerIconSelector")),t.get("triggerIconRemoveCssClass"),t.get("triggerIconAddCssClass"))})},e))),n.get("disableRtClk")&&A.Event.delegate("contextmenu",n._disableRtClk,i,c),A.Event.on("recallJsToggle",function(e){n.get(R)&&n.get("triggerRecall")&&!0!==e.handled&&n.get("hasSelected")&&(e.handled=!0,p(n))}),n.get(R)&&n.get("triggerRecall")&&n.get("hasSelected")&&p(n),h===I?(n.get("enableHeightBasedTriggerDisplay")&&(y(n),A.Event.on("resize",function(e){var t,a,l;a=e,l=(t=n).get("hostWidth"),e=a.target.innerWidth,a=t.get(D).querySelector("ul"),t.set("hostWidth",e),a&&A.Event.fire("containerresize",{},a),l!=e&&y(t)},E)),A.Event.on("ajax:isFiring",function(e){e.detail.module&&n.get("ajaxTarget")===e.detail.module.value&&n.set(I,e.detail.ajaxExpand.value||!1)}),A.Event.delegate(u,n._expand,i,c,n),A.Event.delegate("keydown",n._expand,i,c,n),v&&A.Event.delegate(u,n._closeContainer,i,v,n),"true"===n.get("collapseOnOutsideClick")&&A.Event.outside("click",function(){!0===n.get(I)&&(n.get("disableBodyScroll")&&(S.body.style.overflow="auto"),!n.get("hideTriggerNodes")&&C.length?C.item(0).click():C.forEach(function(e){q.hasClass(e,w)||e.click()}))},f),"true"===n.get("collapseOnMouseLeave")&&A.Event.on("mouseleave",function(){!0===n.get(I)&&C.forEach(function(e){q.hasClass(e,w)||e.click()})},i),"true"===n.get("enableReposition")&&A.Event.on("windowresize",function(){F(n,f,C)}),"true"===n.get("enableRepositionOnPosChange")&&A.Event.on(n.get("posChangeEventType"),function(){F(n,f,C)}),n.get("enableAutoToggleByExpandedElements")&&(v=(l=i.querySelectorAll(n.get("expandedElements"))).length-1,l[0]&&l[v]&&l[v].offsetTop!==l[0].offsetTop&&(S.querySelector(c).style.visibility="visible"))):"pagination"===h?A.Event.delegate(u,n._pagination,i,c,n):"expandOnceOnMouseenter"===h?((h=[]).push(A.Event.on("mouseenter",function(e){n.set("hoverExpandTimer",setTimeout(function(){n._expand(e)},n.get("expandOnMouseenterTimer")))},i)),h.push(A.Event.on("mouseleave",function(){clearTimeout(n.get("hoverExpandTimer"))},i)),n.set("removeEventsOnExpand",h)):(A.Event.delegate(u,n._toggle,i,c,n),A.Event.delegate("keydown",n._toggle,i,c,n),n.get("dfltState")&&A.Event.delegate("mouseleave",n._default,i,c,n)))},_closeContainer:function(){var e=this.get("configHost"),t=e&&null!==S.querySelector(e)?S.querySelector(e):this.get(D),e=t.querySelectorAll(this.get(H));t&&L(this,e)},_disableRtClk:function(e){e.halt()},_pagination:function(e){var t,a=this,l=e.currentTarget.getAttribute("data-beacon"),r=a.get("config"),s=a.get("configHost"),o=s&&null!==S.querySelector(s)?S.querySelector(s):a.get(D),n=a.get("offset");e&&e.keyCode&&13!=e.keyCode||(e.halt(),o&&(t=o.querySelectorAll(a.get(R)),s=o.querySelectorAll(a.get(H)),o=A.DOM.indexOf(e.currentTarget,t),o+=parseInt(n,0),a.get("addClassForTarget")?Y(s,a.get("targetAddCssClass"),a.get("targetRemoveCssClass")):(q.removeClass(t,g),q.addClass(e.currentTarget,g),(e=s.item(o))&&(q.removeClass(s,g),q.addClass(e,g))),a.get(B)?r.beaconData&&r.beaconData[a.get(_)]&&(r.enableGpos&&(o={gpos:o+1},Object.assign(r.beaconData[a.get(_)],o)),x.ULT.beacon(r.beaconData[a.get(_)],null,0,a.get(B))):l&&x.ULT.beacon_url(l)))},_toggle:function(e){var t,a,l,r=this,s=r.get(D);e&&e.keyCode&&13!=e.keyCode||(e.halt(),q.hasClass(e.currentTarget,g)||(s&&(a=s.querySelectorAll(r.get(R)),l=s.querySelectorAll(r.get(H)),q.removeClass(a,g),q.addClass(e.currentTarget,g),s=A.DOM.indexOf(e.currentTarget,a),r.get("triggerEnableAriaSelected")&&a.forEach(function(e){e.classList.contains("selected")?e.setAttribute("aria-selected","true"):e.removeAttribute("aria-selected")}),(s=l.item(s+parseInt(r.get("offset"),0)))&&(q.removeClass(l,g),q.addClass(s,g),"true"==r.get("toggleHidden")&&(q.addClass(l,w),q.removeClass(s,w)))),"true"===r.get("submitTextNodeDataBeacon")?(r=e.currentTarget._node)&&r.children&&r.children[0]&&(t=r.children[0].getAttribute("data-beacon")):t=e.currentTarget.getAttribute("data-beacon"),t&&x.ULT.beacon_url(t)))},_default:function(){var e,t=this.get(D);t&&(e=t.querySelectorAll(this.get(R)),t=t.querySelectorAll(this.get(H)),q.removeClass(e,g),q.removeClass(t,g),(t=t.item(this.get("offset")-1))&&q.addClass(t,g))},_expand:function(e){var t,a,l,r,s,o=this,n=o.get("configHost"),g=o.get("config"),i=n&&null!==S.querySelector(n)?S.querySelector(n):o.get(D),c=i.querySelector("ul"),d=o.get("targetToCollapse"),u=o.get("targetToExpandNodes"),v=o.get("targetImgNode"),h=o.get("triggerIconSelector"),C=o.get("addTargetClass"),f=o.get("progressiveExpand"),m=g.beaconData;if(!(e&&e.keyCode&&13!=e.keyCode||(e.halt&&e.halt(),o.get("enableSelectTriggerNodeText")&&E.getSelection&&E.getSelection().toString()))){if(i){var p=i.querySelectorAll(o.get(R)),y=i.querySelectorAll(o.get(H)),n=d&&""!=d?i.querySelectorAll(d):[],d=u&&""!=u?i.querySelectorAll(u):[];if(o.get("collapseSimilarTargets")&&(u=o.get(R),o.has("similarTrigger")&&(u=o.get("similarTrigger")),S.querySelectorAll(u).forEach(function(e){q.hasClass(e,o.get("cssClassforTriggered"))&&e!==p.item(0)&&e.click()})),h=h&&""!=h?i.querySelectorAll(h):[],o.get(B)&&m&&m[o.get(_)]){if(g.enableGpos)for(var T,b=0;b<y.length;b++)y[b].classList.contains("selected")&&(T={gpos:b+1},Object.assign(m[o.get(_)],T));!1!==o.get(I)&&m[o.get(k)]&&Object.assign(m[o.get(_)],m[o.get(k)]),x.ULT.beacon(m[o.get(_)],null,0,o.get(B))}!1===o.get(I)?(o.set(I,!0),f&&function(e){for(var t=e.get(D),a=t.querySelector(e.get(R)).closest("div.compContainerUL").classList,l="elm",r=0,s=2,o=0;o<a.length;o++)a[o].startsWith(l)&&(r=parseInt(a[o].substring(3)));r%2==0&&(s=3);for(var n=0;n<s;n++)t.querySelector(".elm"+ ++r)&&t.querySelector(".elm"+r).classList.contains("hidden")&&t.querySelector(".elm"+r).classList.remove("hidden")}(o),g=v&&""!=v?i.querySelectorAll(v):[],o.get("targetImgLazy")&&g&&g.forEach(function(e){e.getAttribute("data-js-src")&&(e.setAttribute("src",e.getAttribute("data-js-src")),q.removeClass(e,w),e.removeAttribute("data-js-src"))}),o.get(O)?(f=y,v=o.get(O),(g=f.item(0))&&(g=(s=g.parentNode).offsetHeight,s.style.overflow=w,s.style.height=g+"px",q.removeClass(f,w),f=s.scrollHeight,new A.Anim({node:s,attribute:"height",target:f,duration:v,easing:M,after:function(){s.style.height="",s.style.overflow=""}}).start())):(0<o.get("expandNItems")?(a=o.get(N),r=(l=a)+o.get("expandNItems"),y.forEach(function(e,t){l<=t&&t<r&&(q.removeClass(e,w),o.set(N,++a))}),a<y.length&&o.set(I,!1)):C?q.addClass(y,C):(q.removeClass(y,w),o.set(N,y.length)),o.has("targetCompJsScroll")&&i.querySelector(o.get("targetCompJsScroll"))&&setTimeout(function(){A.Event.fire("resetContainer",null,i.querySelector(o.get("targetCompJsScroll"))),A.Event.fire("recallJsScroll")},100),n&&q.addClass(n,w),d&&q.removeClass(d,w),"true"===o.get("enableReposition")&&F(o,y,p),o.get("cssClassforTriggered")&&q.addClass(p,o.get("cssClassforTriggered")),o.get("cssClassForParentOfTriggered")&&p.forEach(function(e){e.parentElement&&q.addClass(e.parentElement,o.get("cssClassForParentOfTriggered"))}),h&&Y(h,o.get("triggerIconAddCssClass"),o.get("triggerIconRemoveCssClass")),o.get("addClassForTarget")&&Y(y,o.get("targetAddCssClass"),o.get("targetRemoveCssClass"))),"true"===o.get("enableExpandEventFire")&&A.Event.fire("compJsToggle:expand_"+o.get("it"))):(L(o,y),o.set(N,0),n&&q.removeClass(n,w),d&&q.addClass(d,w),o.has("cssClassforTriggered")&&q.removeClass(p,o.get("cssClassforTriggered")),o.get("cssClassForParentOfTriggered")&&p.forEach(function(e){e.parentElement&&q.removeClass(e.parentElement,o.get("cssClassForParentOfTriggered"))}),h&&Y(h,o.get("triggerIconRemoveCssClass"),o.get("triggerIconAddCssClass")),"true"===o.get("enableExpandEventFire")&&A.Event.fire("compJsToggle:collapse_"+o.get("it"))),o.get("scrollToElement")&&(d=document.body.getBoundingClientRect().top,h=S.querySelector(o.get("scrollToElement")).getBoundingClientRect().top-window.scrollY,window.scrollBy(0,h-d)),o.get("hideTriggerNodes")&&1<p.length&&(a=o.get(N),(o.get("expandNItems")<=0||a==y.length||0==a)&&(!0===o.get("hideCurrentTriggerNodeOnly")?(q.removeClass(p,w),q.addClass(e.currentTarget,w)):q.addClass(p,w))),(t=e.currentTarget?e.currentTarget.getAttribute("data-beacon"):t)&&x.ULT.beacon_url(t),o.get("disableBodyScroll")&&!q.hasClass(y,w)&&(S.body.style.overflow="hidden"),o.get("enableHeightBasedTriggerDisplay")&&c&&A.Event.fire("containerresize",{},c)}o.get("removeEventsOnExpand")&&(o.get("removeEventsOnExpand").forEach(function(e){A.Event.remove(e)}),o.set("removeEventsOnExpand",!1))}}},A.SP.compJsToggle=e}(window,document);